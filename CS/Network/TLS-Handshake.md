# TLS-Handsahke

> TLS 핸드셰이크는 서버와 클라이언트가 서로를 확인하고, 암호화 키를 안전하게 교환해서 보안 연결을 설정하는 과정.


### TLS 핸드셰이크 과정 
1. Client Hello
  - 클라이언트(브라우저 등)가 다음 정보를 보냄:
  - “나 이런 암호화 알고리즘들 지원해요”
  - 랜덤 데이터
  - TLS 버전
2. Server Hello
  - 서버가 응답:
  - 선택된 암호화 알고리즘
  - 인증서(보통 X.509 인증서, 서버의 공개키 포함)
  - 랜덤 데이터
3. 인증서 확인
  - 클라이언트가 서버의 인증서를 검증함
  - 브라우저에 내장된 루트 인증기관(CA) 리스트와 비교해서 신뢰성 확인
4. 키 교환 (Pre-Master Secret 생성)
  - 클라이언트는 서버의 공개키로 임시 비밀키(Pre-Master Secret)를 암호화해서 서버에 보냄
  - 서버는 자신의 개인키로 이걸 복호화
5. 세션 키 생성
  - 양측 모두 Pre-Master Secret과 랜덤값들을 바탕으로 같은 세션 키 생성
  - 이 세션 키로 이후 데이터는 대칭키 암호화됨
6. Finished
  - 양측이 “난 준비됐어” 메시지를 교환하고, 암호화된 통신 시작!


### 왜 이렇게 복잡하게 하나요?
- 공개키 암호화는 느리기 때문에, TLS 핸드셰이크로만 사용하고
- 본격적인 데이터 전송은 빠른 대칭키 암호화로 처리함.
- 이 과정을 통해:
  - 기밀성(암호화)
  - 무결성(변조 방지)
  - 인증(서버 신원 확인)
- 이 모두를 보장할 수 있음.


### 🔒 HTTPS = HTTP + TLS
- HTTPS는 HTTP 요청/응답을 TLS로 암호화해서 전송하는 것
- 사용자는 웹사이트가 신뢰할 수 있는 서버인지 확인하고, 통신 내용이 보호됨
