/* âœ… 1. ê¸°ë³¸ Map ë‹¤ë£¨ê¸° */
// ë¬¸ì œ:
// 1) ë¹ˆ Map ìƒì„±
// 2) 'name' â†’ 'Alice', 'age' â†’ 25, 'city' â†’ 'Seoul' ë°ì´í„°ë¥¼ ì €ìž¥
// 3) 'age'ê°€ ì¡´ìž¬í•˜ëŠ”ì§€ í™•ì¸ í›„ ì¶œë ¥
// 4) ì „ì²´ ìš”ì†Œ ê°œìˆ˜ ì¶œë ¥
// 5) 'city' ê°’ì„ ì¶œë ¥

// ì¡°ê±´: Mapì˜ ë©”ì„œë“œë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ì—¬ ì¶œë ¥í•˜ì„¸ìš”.

// 1)
const myMap1 = new Map();

// 2)
myMap1.set('name', 'Alice');
myMap1.set('age', 25);
myMap1.set('city', 'Seoul');

console.log(myMap1)

// 3)
console.log(myMap1.has('age'))

// 4)
console.log(myMap1.size)

// 5)
console.log(myMap1.get('city'))



/* âœ… 2. ê°ì²´ í‚¤ë¥¼ ê°€ì§„ Map ë§Œë“¤ê¸° */
console.log('\n');
// ë¬¸ì œ:
// 1) ë¹ˆ Map ìƒì„±
// 2) {id:1} ê°ì²´ë¥¼ í‚¤ë¡œ 'ê°ì²´1', {id:2} ê°ì²´ë¥¼ í‚¤ë¡œ 'ê°ì²´2' ì €ìž¥
// 3) ê° ê°ì²´ë¥¼ í‚¤ë¡œ ê°’ì„ ìž˜ ì¡°íšŒí•  ìˆ˜ ìžˆëŠ”ì§€ í™•ì¸
// 4) í‚¤ ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¥¼ ë°”ê¾¼ í›„ì—ë„ ì¡°íšŒê°€ ê°€ëŠ¥í•œì§€ í™•ì¸í•˜ê³  ì´ìœ ë¥¼ ì£¼ì„ìœ¼ë¡œ ì„¤ëª…

// ì¡°ê±´: ê°ì²´ í‚¤ì˜ ë™ë“±ì„±(identity)ì´ ì¤‘ìš”í•¨ì„ ì´í•´í•˜ì„¸ìš”.

// 1) ë¹ˆ Map ìƒì„±
const myMap2 = new Map();

// 2) ê°ì²´ í‚¤ ì„ ì–¸
const obj1 = { id: 1 };
const obj2 = { id: 2 };

// 3) Mapì— ê°ì²´ë¥¼ í‚¤ë¡œ ì €ìž¥
myMap2.set(obj1, 'ê°ì²´1');
myMap2.set(obj2, 'ê°ì²´2');

console.log(myMap2)

// 4) ê° ê°ì²´ í‚¤ë¡œ ê°’ ì¡°íšŒ
console.log(myMap2.get(obj1)); // 'ê°ì²´1'
console.log(myMap2.get(obj2)); // 'ê°ì²´2'

// 5) ë˜‘ê°™ì´ ìƒê¸´ ìƒˆ ê°ì²´ë¡œ ê°™ì€ í‚¤ ì‹œë„
const anotherObj1 = { id: 1 };
console.log(myMap2.get(anotherObj1)); // undefined

// ðŸ”Ž ì´ìœ  ì„¤ëª…:
// obj1ì™€ anotherObj1ì€ ìƒê¸´ ê±´ ê°™ì§€ë§Œ, ì„œë¡œ ë‹¤ë¥¸ "ì°¸ì¡°ê°’"ì„ ê°€ì§„ ë³„ê°œì˜ ê°ì²´ìž…ë‹ˆë‹¤.
// Mapì€ ê°ì²´ í‚¤ë¥¼ 'ê°’'ì´ ì•„ë‹Œ 'ì°¸ì¡°'ë¡œ ë¹„êµí•˜ë¯€ë¡œ í‚¤ë¡œ ì¸ì‹í•˜ì§€ ëª»í•©ë‹ˆë‹¤.



/* âœ… 3. Map ë°ì´í„° ë°°ì—´ ë³€í™˜ ë° ì²˜ë¦¬ */
console.log('\n');
// ë¬¸ì œ:
// 1) ì•„ëž˜ Map ë°ì´í„°ë¥¼ ìƒì„±í•˜ì„¸ìš”.
// const userMap = new Map([
//   ['user1', {score: 80}],
//   ['user2', {score: 95}],
//   ['user3', {score: 50}],
//   ['user4', {score: 75}],
// ]);

// 2) ì ìˆ˜(score)ê°€ 70 ì´ìƒì¸ ì‚¬ìš©ìžë§Œ í•„í„°ë§í•´ ìƒˆë¡œìš´ ë°°ì—´ ìƒì„±
// 3) í•„í„°ëœ ë°°ì—´ì„ ì ìˆ˜ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
// 4) ìµœì¢… ê²°ê³¼ë¥¼ ì½˜ì†”ì— ì¶œë ¥

// ì¡°ê±´: Mapì˜ entries()ì™€ Array ë©”ì„œë“œ(filter, sort)ë¥¼ í™œìš©í•˜ì„¸ìš”.

// 1) Map ìƒì„±
const userMap = new Map([
  ['user1', { score: 80 }],
  ['user2', { score: 95 }],
  ['user3', { score: 50 }],
  ['user4', { score: 75 }],
]);

// 2) Map â†’ ë°°ì—´ë¡œ ë³€í™˜
const userArray = Array.from(userMap.entries());  // from() : **ìœ ì‚¬ ë°°ì—´(iterable)**ì´ë‚˜ ì´í„°ëŸ¬ë¸” ê°ì²´ë¥¼ **ì§„ì§œ ë°°ì—´(Array)**ë¡œ ë³€í™˜í•´ì£¼ëŠ” í•¨ìˆ˜
// ë˜ëŠ” [...userMap]

// 3) ì ìˆ˜ 70 ì´ìƒë§Œ í•„í„°ë§
const filteredUsers = userArray.filter(([_, value]) => value.score >= 70);

// 4) ì ìˆ˜ ê¸°ì¤€ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬
filteredUsers.sort((a, b) => b[1].score - a[1].score);

// 5) ì¶œë ¥
console.log(filteredUsers);
