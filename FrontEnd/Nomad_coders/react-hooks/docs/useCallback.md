# useCallback
- useCallbackì€ Reactì˜ ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ í›…ì…ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ê°€ ë‹¤ì‹œ ë Œë”ë§ë  ë•Œ ê°™ì€ í•¨ìˆ˜ë¥¼ ìƒˆë¡œ ìƒì„±í•˜ì§€ ì•Šê³ , ê¸°ì¡´ í•¨ìˆ˜ë¥¼ ì¬ì‚¬ìš©í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.


### ğŸ”§ ê¸°ë³¸ ë¬¸ë²•
- useCallback(fn, deps)ëŠ” deps ë°°ì—´ ì•ˆì˜ ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ fnì„ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.
- deps ê°’ì´ ë°”ë€Œë©´ ìƒˆë¡œìš´ fnì„ ë‹¤ì‹œ ìƒì„±í•©ë‹ˆë‹¤.
```jsx
const memoizedCallback = useCallback(() => {
  // ì‹¤í–‰í•  ë¡œì§
}, [dependency1, dependency2]);
```


### ğŸ§  ì™œ í•„ìš”í•œê°€?
- JSX ì•ˆì—ì„œ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ìƒˆ í•¨ìˆ˜ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
- ì´ê²Œ ë¬¸ì œê°€ ë˜ëŠ” ê²½ìš°ëŠ”:
  - ìì‹ ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ì „ë‹¬ë  ë•Œ
  - useEffect ë“±ì—ì„œ í•¨ìˆ˜ê°€ depsì— ë“¤ì–´ê°ˆ ë•Œ
  - ë©”ëª¨ì´ì œì´ì…˜ëœ ì»´í¬ë„ŒíŠ¸(React.memo)ì™€ í•¨ê»˜ ì“¸ ë•Œ


### âœ… ë¨¼ì € ì´í•´í•´ì•¼ í•  ê°œë… ë‘ ê°€ì§€
#### 1. JSX ì•ˆì—ì„œ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ë©´
- ì´ í•¨ìˆ˜ëŠ” **ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤ ìƒˆë¡­ê²Œ ìƒì„±**ë©ë‹ˆë‹¤.
- ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í•¨ìˆ˜ëŠ” **ì°¸ì¡°ê°’ì´ ë°”ë€Œë©´ ìƒˆë¡œìš´ í•¨ìˆ˜**ë¡œ ì¸ì‹ë¼ìš”.
```jsx
const handleClick = () => { ... }
```

#### 2. ReactëŠ” propsê°€ ë°”ë€Œë©´ ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§í•˜ë ¤ê³  í•´ìš”
- ê·¸ë¦¬ê³  ReactëŠ” â€œê°’ì´ ë°”ë€Œì—ˆëŠ”ê°€?â€œë¥¼ **ì–•ì€ ë¹„êµ(shallow comparison)**ë¡œ íŒë‹¨í•©ë‹ˆë‹¤.
í•¨ìˆ˜ê°€ ê°™ì•„ ë³´ì—¬ë„, ì°¸ì¡°ê°€ ë‹¤ë¥´ë©´ ë‹¤ë¥´ê²Œ ë³¸ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.


#### 3. ì˜ˆì œì½”ë“œ
- Parent ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤
- handleClick í•¨ìˆ˜ëŠ” ìƒˆë¡œ ë§Œë“¤ì–´ì§ (í•­ìƒ ìƒˆë¡œìš´ ì°¸ì¡°ê°’)
- Child ì»´í¬ë„ŒíŠ¸ëŠ” onClick propì„ ë°›ê³  ìˆëŠ”ë°,
- ë§¤ë²ˆ onClickì´ ë‹¤ë¥¸ í•¨ìˆ˜ ì°¸ì¡°ë¡œ ë°”ë€Œì—ˆë‹¤ê³  íŒë‹¨ë¨
- ë”°ë¼ì„œ ReactëŠ” Child ì»´í¬ë„ŒíŠ¸ë„ ë¶ˆí•„ìš”í•˜ê²Œ ë‹¤ì‹œ ë Œë”ë§í•  ìˆ˜ ìˆìŒ
```jsx
function Parent() {
  const handleClick = () => {
    console.log("Clicked");
  };

  return <Child onClick={handleClick} />;
}
```


#### 3-1 ğŸ” ì˜ˆ: React.memoì™€ í•¨ê»˜ ë³´ë©´ ë” ëª…í™•
```jsx
const Child = React.memo(({ onClick }) => {
  console.log("ğŸ” Child ë Œë”ë§");
  return <button onClick={onClick}>Click me</button>;
});
```
- ì´ì œ ChildëŠ” React.memo ë•ë¶„ì— propsê°€ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ë˜ì§€ ì•Šì•„ìš”.
í•˜ì§€ë§Œ Parentì—ì„œ ë§¤ ë Œë”ë§ˆë‹¤ handleClickì´ ìƒˆë¡œ ë§Œë“¤ì–´ì§€ë©´:

```jsx
function Parent() {
  const handleClick = () => {
    console.log("Clicked");
  };

  return <Child onClick={handleClick} />; // í•­ìƒ ìƒˆë¡œìš´ í•¨ìˆ˜ê°€ propsë¡œ ì „ë‹¬ë¨
}
```
- â†’ onClick propì´ ë§¤ë²ˆ ë°”ë€Œë‹ˆê¹Œ ChildëŠ” ì—¬ì „íˆ ê³„ì† ë¦¬ë Œë”ë§ë¨.


#### 4. âœ… í•´ê²°: useCallback ì‚¬ìš©
- handleClickì€ ë©”ëª¨ì´ì œì´ì…˜ë˜ì–´ ê³„ì† ê°™ì€ í•¨ìˆ˜ ì°¸ì¡°ë¥¼ ìœ ì§€
- Childì˜ propsê°€ ì•ˆ ë°”ë€Œì—ˆìœ¼ë¯€ë¡œ ë¦¬ë Œë”ë§ë„ ë°œìƒí•˜ì§€ ì•ŠìŒ
```jsx
function Parent() {
  const handleClick = useCallback(() => {
    console.log("Clicked");
  }, []); // ë¹ˆ ë°°ì—´ì´ë©´ ì´ í•¨ìˆ˜ëŠ” í•œ ë²ˆë§Œ ìƒì„±ë¨

  return <Child onClick={handleClick} />;
}
```
#### 5. ğŸ§  ìš”ì•½
| ê°œë…                   | ì„¤ëª…                                                             |
|------------------------|------------------------------------------------------------------|
| JSXì—ì„œ í•¨ìˆ˜ ì„ ì–¸      | ë Œë”ë§ë§ˆë‹¤ ìƒˆë¡œ ìƒì„±ë˜ëŠ” **ìƒˆë¡œìš´ í•¨ìˆ˜ ì°¸ì¡°**                    |
| Reactì˜ prop ë¹„êµ      | ì°¸ì¡°ê°’ì´ ë‹¤ë¥´ë©´ "ë‹¬ë¼ì¡Œë‹¤ê³ " íŒë‹¨ â†’ **ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°œìƒ**   |
| `useCallback`          | í•¨ìˆ˜ ì°¸ì¡°ë¥¼ **ê¸°ì–µí•´ì„œ** ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ **ë°©ì§€**              |


### ğŸ“¦ useCallback ì˜ˆì œ
#### ğŸ’¥ useCallback ì—†ì´
- ë§¤ ë Œë”ë§ˆë‹¤ handleClick í•¨ìˆ˜ê°€ ìƒˆë¡œ ë§Œë“¤ì–´ì§€ê³  Childë„ ë¦¬ë Œë”ë§ë  ìˆ˜ ìˆìŒ.
```jsx
function Parent() {
  const handleClick = () => {
    console.log("Clicked");
  };

  return <Child onClick={handleClick} />;
}
```
#### âœ… useCallbackìœ¼ë¡œ ìµœì í™”
- handleClickì€ depsê°€ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ ê°™ì€ í•¨ìˆ˜ ì°¸ì¡°ë¥¼ ìœ ì§€
- Child ì»´í¬ë„ŒíŠ¸ëŠ” propsê°€ ë°”ë€Œì§€ ì•Šìœ¼ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€ ê°€ëŠ¥
```jsx
import { useCallback } from "react";

function Parent() {
  const handleClick = useCallback(() => {
    console.log("Clicked");
  }, []);

  return <Child onClick={handleClick} />;
}
```

### ğŸ“Œ ì–¸ì œ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?
- âœ… ìì‹ ì»´í¬ë„ŒíŠ¸ì— propsë¡œ í•¨ìˆ˜ë¥¼ ë„˜ê¸¸ ë•Œ
- âœ… useEffect, useMemo, useRef ë“±ì—ì„œ í•¨ìˆ˜ ì°¸ì¡°ê°€ í•„ìš”í•œ ê²½ìš°
- âŒ ë¬´ì¡°ê±´ì ìœ¼ë¡œ ë‚¨ìš©í•˜ë©´ ë©”ëª¨ë¦¬ë§Œ ë‚­ë¹„ë˜ê³  ì´ë“ ì—†ìŒ

> ğŸ’¡ ì„±ëŠ¥ ìµœì í™”ê°€ ëˆˆì— ë„ê²Œ í•„ìš”í•œ ê²½ìš°ì—ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.


### ğŸ§ª ì‹¤ìŠµ ì½”ë“œ
- ì—¬ê¸°ì„œ incrementëŠ” ë§¤ ë Œë”ë§ˆë‹¤ ìƒˆë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•Šê³  ì¬ì‚¬ìš©ë©ë‹ˆë‹¤.
```jsx
import { useState, useCallback } from "react";

export default function Counter() {
  const [count, setCount] = useState(0);

  const increment = useCallback(() => {
    setCount(c => c + 1);
  }, []);

  return (
    <div>
      <p>{count}</p>
      <button onClick={increment}>Increment</button>
    </div>
  );
}
```
