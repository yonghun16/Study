# 쿠키와 세션

| 항목        | 쿠키 (Cookie)                           | 세션 (Session)                           |
|-------------|-----------------------------------------|------------------------------------------|
| 저장 위치   | 클라이언트(브라우저)                    | 서버                                     |
| 저장 크기   | 약 4KB 이하                             | 서버에 따라 다르며 상대적으로 큼         |
| 보안성      | 낮음 (사용자가 수정 가능)               | 높음 (서버에서 관리하므로 노출 적음)     |
| 유지 시간   | 브라우저 설정 또는 쿠키 설정에 따름     | 일반적으로 브라우저 종료 시 삭제         |
| 속도        | 빠름 (클라이언트에서 처리됨)            | 상대적으로 느림 (서버 접근 필요)         |
| 사용 용도   | 자동 로그인, 장바구니, 방문 기록 등     | 로그인 상태 유지, 사용자 맞춤 정보 등    |
| 식별 방식   | 모든 요청 시 쿠키를 함께 전송           | 세션 ID를 쿠키에 저장해 서버에서 식별    |


### 🍪 쿠키 (Cookie)
- 쿠키는 웹 서버가 사용자의 브라우저에 작은 데이터를 저장해 두는 방식.

#### 🔹 특징
- 클라이언트(브라우저)에 저장됨
- 보통 4KB 이하의 작은 용량
- 만료 시간 설정 가능 (지속적 저장도 가능)
- 사용자가 직접 수정하거나 삭제할 수 있음

#### 🔹 동작 방식
- 사용자가 웹사이트에 접속하면, 서버는 쿠키를 생성해 브라우저에 전달
- 브라우저는 이 쿠키를 저장
- 이후 동일한 사이트에 요청할 때, 브라우저는 자동으로 해당 쿠키를 함께 보냄

#### 🔹 예시 용도
- 자동 로그인
- 장바구니 정보 유지
- 마지막 방문 시간 기록

#### 🔹 쿠키에 저장되는 일반적인 정보
- 세션 ID (예: session_id=abc123)
  - → 이 ID로 서버가 사용자를 식별.
  - → 비밀번호가 아닌, 간접적인 식별자.
- 토큰 (JWT 등)
  - → 보안 설정이 잘 되어 있다면 쿠키에 Access Token, Refresh Token을 저장하는 방식도 사용.
- 자동 로그인용 토큰
  - → “자동 로그인” 기능을 위해 서버에서 발급한 랜덤한 식별자를 저장하고, 이걸로 다시 로그인 처리를 하는 방식.


### 🛠️ 세션 (Session)
- 세션은 한명의 사용자(브라우저)의 상태를 유지하는 기술.
- 세션은 서버가 사용자 별로 데이터를 저장하는 방식. 
- 사용자의 상태 정보를 서버에서 관리.

#### 🔹 특징
- 서버에 저장됨 (보통 메모리나 데이터베이스에 저장)
- 클라이언트에는 세션 ID만 저장됨 (보통 쿠키에 session_id 형태로 저장)
- 서버가 클라이언트에게 고유한 세션 ID를 부여하면, 클라이언트는 접속할 때마다 이 Session ID를 이용해 서버에서 사용자 정보를 찾아 사용
- 서버 자원을 사용하므로 오래 유지되면 부담
- 기본적으로 브라우저를 닫으면 만료됨

#### 🔹 동작 방식
- 1. 사용자가 사이트에 접속하면, 서버는 고유한 세션 ID 생성
- 2. 이 ID를 쿠키에 담아 브라우저로 전달
- 3. 이후 브라우저가 요청 시, 이 ID를 이용해 서버에서 사용자 정보를 찾아 사용

#### 🔹 예시 용도
- 로그인 인증 상태 유지
- 사용자 맞춤 정보 저장 (예: 장바구니, 프로필 등)
