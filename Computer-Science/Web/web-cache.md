# Web Cache

- 웹 데이터를 캐시 처리한다고 하여, **웹 캐시** 라고 불림.
- 브라우저와 서버 사이에서 네트워크 트래픽을 줄이고, 
- 사용자 경험을 향상시키는 핵심 기술


### ⚙️ 웹 캐시 동작 구조
```text
[사용자] → [브라우저 캐시] → [프록시 캐시] → [원격 서버]
```
1. 사용자가 리소스를 요청함
2. 브라우저 또는 중간 프록시 서버에 캐시가 있는지 확인
3. 있으면 바로 응답 (Cache Hit), 없으면 원 서버에서 받아옴 (Cache Miss)
4. 받아온 리소스는 캐시에 저장됨


### 🧩 웹 캐시의 종류
| 구분          | 설명                                                       |
|---------------|------------------------------------------------------------|
| 브라우저 캐시 | 사용자의 로컬 장치에 저장되는 캐시                         |
| 프록시 캐시   | ISP나 회사 네트워크 경로 중간에 위치한 캐시                |
| CDN 캐시      | 전 세계에 분산된 서버에서 제공되는 캐시                    |


### 🧪 Cache Hit vs Cache Miss
| 구분        | 설명                                                            |
|-------------|-----------------------------------------------------------------|
| Cache Hit   | 요청한 리소스가 캐시에 있어 서버에 요청하지 않고 바로 반환됨    |
| Cache Miss  | 캐시에 리소스가 없어 서버에서 다시 받아야 함                    |


### 🧾 웹 캐시 제어를 위한 HTTP 헤더
| 헤더                  | 설명                                                          |
|-----------------------|---------------------------------------------------------------|
| Cache-Control         | 캐시의 동작을 상세히 제어함 (예: `max-age`, `no-cache` 등)    |
| Expires               | 캐시 유효 만료 시점 지정 (HTTP/1.0 방식)                      |
| ETag                  | 리소스 버전을 식별하는 해시값 제공                            |
| Last-Modified         | 리소스가 마지막으로 수정된 시점을 알려줌                      |
| If-Modified-Since     | 서버에게 변경 여부를 물어봄 (304 응답 유도)                   |
| If-None-Match         | ETag을 기반으로 변경 여부를 확인함                            |


### 🚀 웹 캐시의 장점
- ✅ 응답 속도 향상: 로컬 또는 근처에서 바로 로드
- ✅ 서버 부하 감소: 반복 요청을 줄임
- ✅ 네트워크 사용량 절약: 데이터 전송량 감소


### ⚠️ 주의점
- 캐시된 데이터가 변경사항을 반영하지 못할 수 있음
- 민감한 정보는 절대 캐시에 저장하면 안 됨 (Cache-Control: no-store 사용)


### 📌 예시: HTML 페이지에 캐시 적용
```http
Cache-Control: public, max-age=3600
```
- 1시간(3600초) 동안 캐시 가능
- 모든 사용자에게 공유 가능한(public) 캐시 허용
