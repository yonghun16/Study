# REST API


### REST의 핵심 아이디어
- 모든 **자원(Resource)을 고유한 URI**로 표현
- **HTTP 메서드(GET, POST, PUT, DELETE 등)**를 통해 자원에 대한 **행위(CRUD)**를 표현
- **상태 없는 요청 처리와 일관된 인터페이스 설계**로 인해 클라이언트-서버 구조의 유연성과 확장성 확보


### REST의 등장배경
- HTTP는 다양한 **HTTP메서드(GET, POST, PUT, DELETE 등)**를 지원한다.
- 실제로는 서버가 HTTP 메서드를 기존 설명에 맞게 사용하지 않더라도, 프로그램 개발은 가능하다.
- 하지만 각 서비스가 서로 다른 방식으로 개발하면, 개발자 사이의 소통에 문제가 발생할 수 있다.
- 따라서 기준이 되는 아키텍처로 REST를 채택할 수 있다.

#### HTTP 메서드와 예시
| 메서드    | 설명               | 예시                 |
|-----------|--------------------|----------------------|
| GET       | 자원 조회          | GET /users           |
| POST      | 자원 생성          | POST /users          |
| PUT       | 자원 전체 수정     | PUT /users/1         |
| PATCH     | 자원 일부 수정     | PATCH /users/1       |
| DELETE    | 자원 삭제          | DELETE /users/1      |

#### RESTful한 URI 설계 예시
| 기능                     | URI 예시                   |
|--------------------------|----------------------------|
| 사용자 목록 조회         | GET /users                 |
| 특정 사용자 조회         | GET /users/1               |
| 사용자 생성              | POST /users                |
| 사용자 수정              | PUT /users/1               |
| 사용자 삭제              | DELETE /users/1            |


### 주요 특징 (REST의 6가지 제약 조건)
| 제약 조건                     | 설명                                                                               |
|-------------------------------|------------------------------------------------------------------------------------|
| 클라이언트-서버 구조          | 클라이언트와 서버를 분리하여 독립적으로 개발, 배포 및 확장 가능함.                 |
| 무상태성 (Stateless)          | 서버는 클라이언트의 요청 간 상태를 저장하지 않음. 각 요청은 독립적이어야 함.       |
| 캐시 처리 가능 (Cacheable)    | 응답은 캐싱이 가능해야 하며, 명시적으로 캐시 여부를 설정해야 함.                   |
| 계층 구조 (Layered System)    | 클라이언트는 중간 서버를 통해 통신할 수 있으며, 시스템을 계층화할 수 있음.         |
| 일관된 인터페이스             | URI와 HTTP 메서드를 통해 자원과의 상호작용을 일관된 방식으로 정의함.               |
| Code on Demand (선택적)       | 클라이언트가 서버에서 스크립트 등을 받아 실행할 수 있음 (자주 사용되지는 않음).    |


### REST URI 설계 원칙
| 원칙                                        | 설명 및 예시                                                                         |
|---------------------------------------------|--------------------------------------------------------------------------------------|
| **1. 자원(Resource)은 명사**                | URI는 동작이 아닌 **자체를 의미하는 명사**로 표현해야 함  → `/users`, `/posts`       |
| **2. 복수형 사용**                          | 자원은 컬렉션이므로 일반적으로 **복수형 사용** → `/users` (O), `/user` (X)           |
| **3. 행위는 HTTP 메서드로**                 | URI에 동사는 쓰지 말고, **행위는 메서드(GET, POST 등)로 구분**  → `POST /users` (O), `/createUser` (X) |
| **4. 계층적 관계는 경로로 표현**            | 자원 간 관계는 URI의 **계층 구조**로 표현 → `/users/1/posts` (사용자 1의 게시글)     |
| **5. 필터/검색은 쿼리 파라미터로**          | `/users?age=20&sort=desc` 처럼 **조건은 URI가 아닌 쿼리 파라미터로 표현**            |
| **6. 하이픈(-) 사용, 언더스코어(_) 지양**   | 단어 구분 시 **하이픈(-) 사용** → `/user-posts` (O), `/user_posts` (X)               |
| **7. 파일 확장자는 사용하지 않음**          | `.json`, `.xml` 등은 지양하고 **Content-Type 헤더**로 응답 포맷 구분                 |
| **8. 일관성 있는 규칙 유지**                | 모든 자원 이름과 경로 구조는 일관되게 작성해야 함                                    |
