# CPU의 동작 방식

- CPU(Central Processing Unit, 중앙처리장치)는 컴퓨터 시스템의 핵심 구성요소로, 프로그램의 명령어를 해석하고 실행하는 역할을 합니다. 
- CPU의 동작 방식은 크게 다음과 같은 **명령어 사이클(instruction cycle)**을 반복하면서 이루어집니다:

```text
[1] 시작(보조기억장치에 있는 프로그램이 메인 메모리로 적제됨.)
   │
   ▼
[2] 명령어 인출 (Fetch)
   └─> 메모리에서 PC(Program Counter)가 가리키는 주소의 명령어를 가져옴
   │
   ▼
[3] 명령어 해독 (Decode)
   └─> 연산 코드(opcode) 및 피연산자(operand)를 분리하여 해석
   │
   ▼
[4] 명령어 실행 (Execute)
   └─> ALU 또는 제어 장치를 이용해 연산 또는 데이터 이동 수행
   │
   ▼
[5] 결과 저장 (Write-back)
   └─> 연산 결과를 레지스터 또는 메모리에 저장
   │
   ▼
[6] 프로그램 카운터 증가 (PC++)
   └─> 다음 명령어를 위해 PC 값을 증가
   │
   ▼
[7] 다음 명령어 처리로 반복
```

### 🧠 CPU의 기본 동작 과정 (명령어 사이클)
| 단계              | 설명                                                                       |
|-------------------|----------------------------------------------------------------------------|
| 인출 (Fetch)      | 메모리(RAM)에서 현재 프로그램 카운터(PC)가 가리키는 주소의 명령어를 가져옴 |
| 해독 (Decode)     | 명령어를 해석하고, 연산 코드와 피연산자를 분리함                           |
| 실행 (Execute)    | ALU 등 처리 장치를 사용해 연산을 수행함                                    |
| 저장 (Write-back) | 연산 결과를 레지스터나 메모리에 저장함                                     |
| PC 증가           | 다음 명령어를 위해 프로그램 카운터를 증가시킴                              |


### ⚙️ 주요 구성 요소
| 구성 요소  | 역할                                                             |
|------------|------------------------------------------------------------------|
| ALU        | 산술 및 논리 연산을 처리함                                       |
| 레지스터   | 임시로 데이터를 저장하는 고속 저장소                             |
| CU         | 명령어를 해석하고 필요한 제어 신호를 각 장치에 전달함            |
| 버스       | CPU와 메모리/입출력 장치 간 데이터, 주소, 제어 신호를 전달함     |
| 캐시       | 자주 접근하는 데이터를 빠르게 처리하기 위한 고속 메모리          |


### 🔄 예: 간단한 덧셈 명령어 실행 흐름
1. 메모리에서 ADD R1, R2 명령어를 가져옴 (Fetch)
2. 명령어를 해독하여 R1 = R1 + R2 라는 뜻임을 파악 (Decode)
3. ALU를 통해 R1과 R2의 값을 더함 (Execute)
4. 결과를 다시 R1에 저장 (Write-back)


### 💡 참고 개념
- 클럭 속도: CPU가 1초에 몇 번의 명령어 사이클을 수행할 수 있는지 나타냄 (예: 3.2GHz → 1초에 32억 회).
- 파이프라이닝(Pipelining): 명령어 사이클의 각 단계를 분할하여 여러 명령어를 동시에 처리하는 방식으로 속도 향상.
- 멀티코어: 여러 개의 CPU 코어가 하나의 칩 안에 있어 병렬 처리가 가능.

